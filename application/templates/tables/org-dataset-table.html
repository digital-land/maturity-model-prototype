{% macro datasetTable(params) %}
<div class="data-table__wrapper" data-module="data-table">
  <table class="govuk-table">
    <caption class="govuk-table__caption govuk-table__caption--m">{{ params.caption }}</caption>
    <thead class="govuk-table__head">
      <tr class="govuk-table__row">
        <th scope="col" class="govuk-table__header govuk-\!-width-one-quarter" aria-sort="none">Name</th>
        <th scope="col" class="govuk-table__header govuk-table__header--numeric" aria-sort="none">Active sources</th>
        <th scope="col" class="govuk-table__header govuk-table__header--numeric" aria-sort="none">Inactive sources</th>
        <th scope="col" class="govuk-table__header govuk-table__header--numeric" aria-sort="none">Active endpoints</th>
        <th scope="col" class="govuk-table__header govuk-table__header--numeric" aria-sort="none">Inactive endpoints</th>
        <th scope="col" class="govuk-table__header govuk-table__header--numeric" aria-sort="none">Active resources</th>
        <th scope="col" class="govuk-table__header govuk-table__header--numeric" aria-sort="none">Inactive resources</th>
      </tr>
    </thead>
    <tbody class="govuk-table__body">
      {% for dataset in params.datasets %}
      <tr class="govuk-table__row">
        <td class="govuk-table__cell" data-sort-value="{{ dataset['name'] }}"><a href="{{ url_for('base.dataset', dataset=dataset['name']) }}" class="govuk-link">{{ dataset['name'] }}</a></td>
        <td class="govuk-table__cell govuk-table__cell--numeric" data-sort-value="{{ dataset['active-source']|to_int }}">{{ dataset['active-source'] }}</td>
        <td class="govuk-table__cell govuk-table__cell--numeric" data-sort-value="{{ dataset['inactive-source']|to_int }}">{{ dataset['inactive-source'] }}</td>
        <td class="govuk-table__cell govuk-table__cell--numeric" data-sort-value="{{ dataset['active-endpoint']|to_int }}">{{ dataset['active-endpoint'] }}</td>
        <td class="govuk-table__cell govuk-table__cell--numeric" data-sort-value="{{ dataset['inactive-endpoint']|to_int }}">{{ dataset['inactive-endpoint'] }}</td>
        <td class="govuk-table__cell govuk-table__cell--numeric" data-sort-value="{{ dataset['active-resource']|to_int }}">{{ dataset['active-resource'] }}</td>
        <td class="govuk-table__cell govuk-table__cell--numeric" data-sort-value="{{ dataset['inactive-resource']|to_int }}">{{ dataset['inactive-resource'] }}</td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
</div>
{% endmacro %}

{% macro simplifiedDatasetTable(params) %}
<div class="data-table__wrapper" data-module="data-table">
  <table class="govuk-table">
    <caption class="govuk-table__caption govuk-visually-hidden">{{ params.caption }}</caption>
    <thead class="govuk-table__head">
      <tr class="govuk-table__row">
        <th scope="col" class="govuk-table__header govuk-\!-width-one-quarter" aria-sort="none">Name</th>
        <th scope="col" class="govuk-table__header govuk-table__header--numeric" aria-sort="none">Total resources</th>
        <th scope="col" class="govuk-table__header govuk-table__header--numeric" aria-sort="none">Active resources</th>
        <th scope="col" class="govuk-table__header govuk-table__header--numeric" aria-sort="none">Endpoints</th>
      </tr>
    </thead>
    <tbody class="govuk-table__body">
      {% for dataset in params.datasets %}
      <tr class="govuk-table__row">
        <td class="govuk-table__cell" data-sort-value="{{ dataset['name'] }}"><a href="{{ url_for('base.dataset', dataset=dataset['pipeline']) }}" class="govuk-link">{{ dataset['pipeline'] }}</a></td>
        <td class="govuk-table__cell govuk-table__cell--numeric" data-sort-value="{{ dataset['resources']|to_int }}"><a href="{{ url_for('base.resources', organisation=params.organisation, pipeline=dataset['pipeline']) }}">{{ dataset['resources'] }}</a></td>
        <td class="govuk-table__cell govuk-table__cell--numeric" data-sort-value="{{ dataset['active_resources']|to_int }}">{{ dataset['active_resources'] }}</td>
        <td class="govuk-table__cell govuk-table__cell--numeric" data-sort-value="{{ dataset['endpoints']|to_int }}">{{ dataset['endpoints'] }}</td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
</div>
{% endmacro %}